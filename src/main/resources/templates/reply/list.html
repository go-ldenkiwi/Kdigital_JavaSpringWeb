<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<style>
.replyContent{
	background-color: #eee;
	border-radius: 50px;
}

.replyContent span{
	font-size: 14px;
}

.dateTime{
	font-size: 9px;
	margin-bottom: -16px;
}

.btn{
	font-size: 10px;
}

</style>
<div class="list-group">
	<th:block th:each="reply:${replyList}">
	  	<div th:id="'replyLi'+${reply.replyNo}" class="list-group-item list-group-item-action py-3" aria-current="true">
<<<<<<< HEAD
		    <div class="">
				<div>
				    <h4>
				    	<span class="ms-2" th:text="${reply.userNo}"></span>
				    </h4>				
				</div>

		      	<div class="d-flex justify-content-end dateTime">
		      		<p th:text="${#dates.format(reply.postTime,'yy-MM-dd/HH:mm')}"></p>
		      	</div>
=======
		    <div class="d-flex w-100 justify-content-between">
		      <small th:text="${#dates.format(reply.postTime,'HH:mm:ss yyyy-MM-dd')}"></small>
		    </div>
		    <div class="mb-1 d-flex justify-content-between align-items-center">
			    <div>
			    	<th:block th:text="${reply.user.nickname}"></th:block>
				</div>
				<th:block th:if="${session.loginUser}">
					<th:block th:if="${session.loginUser.userNo==reply.userNo}">
						<button th:onclick="readReplyUpdateForm([[${reply.replyNo}]])"
						class="btn btn-outline-secondary btn-sm" type="button">수정</button>
					</th:block>
				</th:block>
>>>>>>> e2cc6917b520d5c8038d91938bf90c9b82c763f0
		    </div>
		    
		    <div class="mt-2 replyContent d-flex py-2">
		    	<span class="mx-3" th:text="${reply.contents}"></span>
		    </div>
		    
		    <div class="mt-1 d-flex justify-content-end align-items-center">
				<button th:onclick="readReplyUpdateForm([[${reply.replyNo}]])"
				class="rounded-pill btn btn-outline-secondary btn-sm" type="button">수정</button>
				<button th:onclick="deleteReply([[${reply.replyNo}]],[[${reply.boardNo}]])"
				class="mx-2 rounded-pill btn btn-outline-danger btn-sm" type="button">삭제</button>
				<button
				class="rounded-pill btn btn-outline-success btn-sm" type="button">답글달기</button>
		    </div>
		    <th:block th:include="/reply/rrlist" th:with="rrList=${reply.replyList}"></th:block>
		 	<div th:if="${session.loginUser!=null}" class="my-2">
		 		<a class="btn btn-outline-primary btn-sm" data-bs-toggle="collapse" 
		 		th:href="${'#collapse'+reply.replyNo}">
				    대 댓글 작성
				</a>
				<div class="collapse" th:id="${'collapse'+reply.replyNo}">
				  <div class="card card-body">
				    <th:block th:if="${session.loginUser!=null}">
						<form name="replyInsertForm" action="/reply/insert.do" method="post" onsubmit="insertReply(event)">
							<input type="hidden" name="boardNo" th:value="${reply.boardNo}">
							<input type="hidden" name="userNo" th:value="${session.loginUser.userNo}">
							<input type="hidden" name="fkReplyNo" th:value="${reply.replyNo}"> 
							<p class="form-floating">
								<textarea class="form-control" name="contents" id="replyContents"></textarea>
							</p>
							<div class="input-group">
								<button class="btn btn-outline-primary">등록</button>
							</div>
						</form>
					</th:block>
				  </div>
				</div>
		 	</div>
	 	</div>
	 </th:block>
</div>
</html>